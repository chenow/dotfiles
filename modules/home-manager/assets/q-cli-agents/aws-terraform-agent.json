{
    "$schema": "https://raw.githubusercontent.com/aws/amazon-q-developer-cli/refs/heads/main/schemas/agent-v1.json",
    "name": "aws-agent",
    "description": "An agent to manage an AWS account",
    "prompt": "You are an AWS solution architect helping me with best practises for setting up my AWS account and ressources.",
    "mcpServers": {
        "github": {
            "command": "docker",
            "args": [
                "run",
                "-i",
                "--rm",
                "--env-file",
                "/Users/chenow/secrets/github-access-token.env",
                "ghcr.io/github/github-mcp-server"
            ]
        },
        "awslabs.core-mcp-server": {
            "command": "uvx",
            "args": [
                "awslabs.core-mcp-server@latest"
            ],
            "env": {
                "FASTMCP_LOG_LEVEL": "ERROR"
            }
        },
        "context7": {
            "command": "npx",
            "args": [
                "-y",
                "@upstash/context7-mcp"
            ]
        }
    },
    "tools": [
        "*"
    ],
    "allowedTools": [
        "fs_read",
        "knowledge",
        "thinking",
        "@context7",
        "@github/search_code",
        "@github/get_file_contents",
        "@github/search_repositories"
    ],
    "toolsSettings": {
        "execute_bash": {
            "autoAllowReadonly": true
        },
        "use_aws": {
            "autoAllowReadonly": true
        },
        "fs_write": {
            "allowedPaths": [
                "/Users/chenow/git/"
            ]
        }
    },
    "resources": [
        "file:///Users/chenow/.aws/amazonq/ressources/context.md"
    ]
}